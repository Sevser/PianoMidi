{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue","webpack:///./src/config/notes.js","webpack:///./src/components/Piano.vue","webpack:///./src/components/whiteButton.vue","webpack:///./src/utills/EventBus.js","webpack:///./src/components/blackButton.vue","webpack:///./src/components/blackButton.vue?ee09","webpack:///./src/components/whiteButton.vue?aa9e","webpack:///./src/components/Piano.vue?d7a7","webpack:///./src/components/canvasBackdrop.vue","webpack:///./src/utills/shaders/vertex.js","webpack:///./src/utills/shaders/fragment.js","webpack:///./src/components/canvasBackdrop.vue?87a8","webpack:///./src/components/settings.vue","webpack:///./src/components/settings.vue?1c49","webpack:///./src/App.vue?8ecf","webpack:///./src/main.js","webpack:///./src/components/Piano.vue?4725","webpack:///./src/App.vue?ad73","webpack:///./src/components/whiteButton.vue?8068","webpack:///./src/components/settings.vue?a5e9","webpack:///./src/App.vue?121b","webpack:///./src/components/blackButton.vue?475c"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","clicked","class","model-value","selectedMidi","$event","available-midi-devices","availableMidiDevices","midiNumbers","notes","map","midi","getNoteByMIDINumber","midiNumber","find","midiId","whites","button","NoteName","checkEmitting","over","active","click","hasNoteDies","noteDies","$on","emitter","on","$once","once","$off","off","$emit","emit","inject","components","watch","nVal","EventBus","this","topCenterPosition","power","activeButtons","props","type","required","computed","has","mouseClicked","methods","pressed","top","left","width","center","mounted","$el","getBoundingClientRect","__exports__","BlackButton","undefined","WhiteButton","createWhites","filter","numb","reverse","note","subNote","ref","TOTAL_COLS","lastButton","lastReleasedButton","initWebGL","canvas","gl","getContext","e","console","error","alert","start","$refs","clearColor","enable","DEPTH_TEST","depthFunc","LEQUAL","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","vertexShader","createVertexShader","vertex","fragmentShader","createFragmentShader","fragment","program","createProgram","attachShader","linkProgram","positionAttributeLocation","getAttribLocation","positionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","viewport","height","useProgram","enableVertexAttribArray","size","FLOAT","normalize","stride","offset1","vertexAttribPointer","shader","createShader","FRAGMENT_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","VERTEX_SHADER","handlePressedButton","newVal","index","Math","floor","innerWidth","oldVala","drawLine","additionalPoints","delta","oldVal","tanh","max","draw","last","positions","oldHeight","fround","baseHeight","flat","cachedArrays","Float32Array","matrixLocation","getUniformLocation","matrix","uniformMatrix3fv","bufferData","STATIC_DRAW","primitiveType","LINE_STRIP","offset2","drawArrays","ctx","intervalId","Array","step","beforeUnmount","clearInterval","innerHeight","setInterval","fill","target","modelValue","device","id","default","String","provide","Settings","CanvasBackdrop","Piano","startLoggingMIDIInput","logs","pressedButtons","Map","onMIDISuccess","midiAccess","listInputsAndOutputs","onMIDIFailure","msg","log","from","inputs","values","manufacturer","version","onMIDIMessage","event","delete","set","forEach","entry","onmidimessage","navigator","requestMIDIAccess","then","render","createApp","App","mount"],"mappings":"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","file":"js/app.bcf9b1d2.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/PianoMidi/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n  <div\n    @mousedown=\"clicked = true\"\n    @mouseup=\"clicked = false\"\n    @mouseleave=\"clicked = false\"\n    class=\"app container\">\n    <canvas-backdrop />\n    <Piano />\n    <Settings\n      :model-value=\"selectedMidi\"\n      @update:model-value=\"selectedMidi = $event\"\n      :available-midi-devices=\"availableMidiDevices\"/>\n  </div>\n</template>\n\n<script>\nimport notes from './config/notes';\n// import messageType from './config/messageType';\nimport Piano from './components/Piano';\nimport { computed } from 'vue';\nimport CanvasBackdrop from './components/canvasBackdrop';\nimport Settings from './components/settings';\n\nexport default {\n  provide() {\n    return {\n      activeButtons: computed(() => this.activeButtons),\n      lastReleasedButton: computed(() => this.lastReleasedButton),\n      mouseClicked: computed(() => this.clicked),\n    }\n  },\n  name: 'App',\n  components: {\n    Settings,\n    CanvasBackdrop,\n    Piano,\n  },\n  watch: {\n    selectedMidi(newVal) {\n      this.startLoggingMIDIInput(this.midi, newVal);\n    },\n  },\n  data: () => ({\n    logs: [],\n    pressedButtons: [],\n    lastReleasedButton: null,\n    midi: null,\n    clicked: false,\n    activeButtons: new Map(),\n    availableMidiDevices: [],\n    selectedMidi: null,\n  }),\n  methods: {\n    onMIDISuccess( midiAccess ) {\n      this.midi = midiAccess;  // store in the global (in real usage, would probably keep in an object instance)\n      this.listInputsAndOutputs(this.midi);\n      this.startLoggingMIDIInput(this.midi);\n    },\n    onMIDIFailure(msg) {\n      console.log( \"Failed to get MIDI access - \" + msg );\n    },\n    listInputsAndOutputs( midiAccess ) {\n      this.availableMidiDevices = Array.from(midiAccess.inputs.values()).map(midi => ({\n        midi,\n        name: \"' manufacturer:'\" + midi.manufacturer + \"' name:'\" + midi.name + \"' version:'\" + midi.version + \"'\",\n      }));\n    },\n    onMIDIMessage( event ) {\n      if (event.data[0] === 128) {\n        this.activeButtons.delete(notes.getNoteByMIDINumber(event.data[1]).NoteName);\n      } else if (event.data[0] === 144) {\n        this.lastReleasedButton = notes.getNoteByMIDINumber(event.data[1]);\n        this.activeButtons.set(this.lastReleasedButton.NoteName, event.data[2]);\n      }\n    },\n    startLoggingMIDIInput( midiAccess, index) {\n      midiAccess.inputs.forEach( entry => {\n        entry.onmidimessage = null;\n      });\n      if (midiAccess.inputs.get(index) !== undefined) {\n        midiAccess.inputs.get(index).onmidimessage = this.onMIDIMessage;\n      }\n    }\n  },\n  mounted() {\n    navigator\n        .requestMIDIAccess()\n        .then( this.onMIDISuccess.bind(this), this.onMIDIFailure.bind(this) );\n  },\n}\n</script>\n\n<style>\nhtml, body, div#app, .container.app {\n  height: 100%;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n  position: relative;\n  overflow: hidden;\n}\n</style>\n<style scoped>\n.container.app {\n  display: flex;\n}\n</style>\n","const midiNumbers = [\r\n  {\"midiId\":108,\"pianoKey\":\"88\",\"NoteName\":\"C8\",\"freq\":4186.01},\r\n  {\"midiId\":107,\"pianoKey\":\"87\",\"NoteName\":\"B7\",\"freq\":3951.07},\r\n  {\"midiId\":106,\"pianoKey\":\"86\",\"NoteName\":\"A#7/Bb7\",\"freq\":3729.31},\r\n  {\"midiId\":105,\"pianoKey\":\"85\",\"NoteName\":\"A7\",\"freq\":3520},\r\n  {\"midiId\":104,\"pianoKey\":\"84\",\"NoteName\":\"G#7/Ab7\",\"freq\":3322.44},\r\n  {\"midiId\":103,\"pianoKey\":\"83\",\"NoteName\":\"G7\",\"freq\":3135.96},\r\n  {\"midiId\":102,\"pianoKey\":\"82\",\"NoteName\":\"F#7/Gb7\",\"freq\":2959.96},\r\n  {\"midiId\":101,\"pianoKey\":\"81\",\"NoteName\":\"F7\",\"freq\":2793.83},\r\n  {\"midiId\":100,\"pianoKey\":\"80\",\"NoteName\":\"E7\",\"freq\":2637.02},\r\n  {\"midiId\":99,\"pianoKey\":\"79\",\"NoteName\":\"D#7/Eb7\",\"freq\":2489.02},\r\n  {\"midiId\":98,\"pianoKey\":\"78\",\"NoteName\":\"D7\",\"freq\":2349.32},\r\n  {\"midiId\":97,\"pianoKey\":\"77\",\"NoteName\":\"C#7/Db7\",\"freq\":2217.46},\r\n  {\"midiId\":96,\"pianoKey\":\"76\",\"NoteName\":\"C7\",\"freq\":2093},\r\n  {\"midiId\":95,\"pianoKey\":\"75\",\"NoteName\":\"B6\",\"freq\":1975.53},\r\n  {\"midiId\":94,\"pianoKey\":\"74\",\"NoteName\":\"A#6/Bb6\",\"freq\":1864.66},\r\n  {\"midiId\":93,\"pianoKey\":\"73\",\"NoteName\":\"A6\",\"freq\":1760},\r\n  {\"midiId\":92,\"pianoKey\":\"72\",\"NoteName\":\"G#6/Ab6\",\"freq\":1661.22},\r\n  {\"midiId\":91,\"pianoKey\":\"71\",\"NoteName\":\"G6\",\"freq\":1567.98},\r\n  {\"midiId\":90,\"pianoKey\":\"70\",\"NoteName\":\"F#6/Gb6\",\"freq\":1479.98},\r\n  {\"midiId\":89,\"pianoKey\":\"69\",\"NoteName\":\"F6\",\"freq\":1396.91},\r\n  {\"midiId\":88,\"pianoKey\":\"68\",\"NoteName\":\"E6\",\"freq\":1318.51},\r\n  {\"midiId\":87,\"pianoKey\":\"67\",\"NoteName\":\"D#6/Eb6\",\"freq\":1244.51},\r\n  {\"midiId\":86,\"pianoKey\":\"66\",\"NoteName\":\"D6\",\"freq\":1174.66},\r\n  {\"midiId\":85,\"pianoKey\":\"65\",\"NoteName\":\"C#6/Db6\",\"freq\":1108.73},\r\n  {\"midiId\":84,\"pianoKey\":\"64\",\"NoteName\":\"C6\",\"freq\":1046.5},\r\n  {\"midiId\":83,\"pianoKey\":\"63\",\"NoteName\":\"B5\",\"freq\":987.77},\r\n  {\"midiId\":82,\"pianoKey\":\"62\",\"NoteName\":\"A#5/Bb5\",\"freq\":932.33},\r\n  {\"midiId\":81,\"pianoKey\":\"61\",\"NoteName\":\"A5\",\"freq\":880},\r\n  {\"midiId\":80,\"pianoKey\":\"60\",\"NoteName\":\"G#5/Ab5\",\"freq\":830.61},\r\n  {\"midiId\":79,\"pianoKey\":\"59\",\"NoteName\":\"G5\",\"freq\":783.99},\r\n  {\"midiId\":78,\"pianoKey\":\"58\",\"NoteName\":\"F#5/Gb5\",\"freq\":739.99},\r\n  {\"midiId\":77,\"pianoKey\":\"57\",\"NoteName\":\"F5\",\"freq\":698.46},\r\n  {\"midiId\":76,\"pianoKey\":\"56\",\"NoteName\":\"E5\",\"freq\":659.26},\r\n  {\"midiId\":75,\"pianoKey\":\"55\",\"NoteName\":\"D#5/Eb5\",\"freq\":622.25},\r\n  {\"midiId\":74,\"pianoKey\":\"54\",\"NoteName\":\"D5\",\"freq\":587.33},\r\n  {\"midiId\":73,\"pianoKey\":\"53\",\"NoteName\":\"C#5/Db5\",\"freq\":554.37},\r\n  {\"midiId\":72,\"pianoKey\":\"52\",\"NoteName\":\"C5\",\"freq\":523.25},\r\n  {\"midiId\":71,\"pianoKey\":\"51\",\"NoteName\":\"B4\",\"freq\":493.88},\r\n  {\"midiId\":70,\"pianoKey\":\"50\",\"NoteName\":\"A#4/Bb4\",\"freq\":466.16},\r\n  {\"midiId\":69,\"pianoKey\":\"49\",\"NoteName\":\"A4 concert pitch\",\"freq\":440},\r\n  {\"midiId\":68,\"pianoKey\":\"48\",\"NoteName\":\"G#4/Ab4\",\"freq\":415.3},\r\n  {\"midiId\":67,\"pianoKey\":\"47\",\"NoteName\":\"G4\",\"freq\":392},\r\n  {\"midiId\":66,\"pianoKey\":\"46\",\"NoteName\":\"F#4/Gb4\",\"freq\":369.99},\r\n  {\"midiId\":65,\"pianoKey\":\"45\",\"NoteName\":\"F4\",\"freq\":349.23},\r\n  {\"midiId\":64,\"pianoKey\":\"44\",\"NoteName\":\"E4\",\"freq\":329.63},\r\n  {\"midiId\":63,\"pianoKey\":\"43\",\"NoteName\":\"D#4/Eb4\",\"freq\":311.13},\r\n  {\"midiId\":62,\"pianoKey\":\"42\",\"NoteName\":\"D4\",\"freq\":293.66},\r\n  {\"midiId\":61,\"pianoKey\":\"41\",\"NoteName\":\"C#4/Db4\",\"freq\":277.18},\r\n  {\"midiId\":60,\"pianoKey\":\"40\",\"NoteName\":\"C4 (middle C)\",\"freq\":261.63},\r\n  {\"midiId\":59,\"pianoKey\":\"39\",\"NoteName\":\"B3\",\"freq\":246.94},\r\n  {\"midiId\":58,\"pianoKey\":\"38\",\"NoteName\":\"A#3/Bb3\",\"freq\":233.08},\r\n  {\"midiId\":57,\"pianoKey\":\"37\",\"NoteName\":\"A3\",\"freq\":220},\r\n  {\"midiId\":56,\"pianoKey\":\"36\",\"NoteName\":\"G#3/Ab3\",\"freq\":207.65},\r\n  {\"midiId\":55,\"pianoKey\":\"35\",\"NoteName\":\"G3\",\"freq\":196},\r\n  {\"midiId\":54,\"pianoKey\":\"34\",\"NoteName\":\"F#3/Gb3\",\"freq\":185},\r\n  {\"midiId\":53,\"pianoKey\":\"33\",\"NoteName\":\"F3\",\"freq\":174.61},\r\n  {\"midiId\":52,\"pianoKey\":\"32\",\"NoteName\":\"E3\",\"freq\":164.81},\r\n  {\"midiId\":51,\"pianoKey\":\"31\",\"NoteName\":\"D#3/Eb3\",\"freq\":155.56},\r\n  {\"midiId\":50,\"pianoKey\":\"30\",\"NoteName\":\"D3\",\"freq\":146.83},\r\n  {\"midiId\":49,\"pianoKey\":\"29\",\"NoteName\":\"C#3/Db3\",\"freq\":138.59},\r\n  {\"midiId\":48,\"pianoKey\":\"28\",\"NoteName\":\"C3\",\"freq\":130.81},\r\n  {\"midiId\":47,\"pianoKey\":\"27\",\"NoteName\":\"B2\",\"freq\":123.47},\r\n  {\"midiId\":46,\"pianoKey\":\"26\",\"NoteName\":\"A#2/Bb2\",\"freq\":116.54},\r\n  {\"midiId\":45,\"pianoKey\":\"25\",\"NoteName\":\"A2\",\"freq\":110},\r\n  {\"midiId\":44,\"pianoKey\":\"24\",\"NoteName\":\"G#2/Ab2\",\"freq\":103.83},\r\n  {\"midiId\":43,\"pianoKey\":\"23\",\"NoteName\":\"G2\",\"freq\":98},\r\n  {\"midiId\":42,\"pianoKey\":\"22\",\"NoteName\":\"F#2/Gb2\",\"freq\":92.5},\r\n  {\"midiId\":41,\"pianoKey\":\"21\",\"NoteName\":\"F2\",\"freq\":87.31},\r\n  {\"midiId\":40,\"pianoKey\":\"20\",\"NoteName\":\"E2\",\"freq\":82.41},\r\n  {\"midiId\":39,\"pianoKey\":\"19\",\"NoteName\":\"D#2/Eb2\",\"freq\":77.78},\r\n  {\"midiId\":38,\"pianoKey\":\"18\",\"NoteName\":\"D2\",\"freq\":73.42},\r\n  {\"midiId\":37,\"pianoKey\":\"17\",\"NoteName\":\"C#2/Db2\",\"freq\":69.3},\r\n  {\"midiId\":36,\"pianoKey\":\"16\",\"NoteName\":\"C2\",\"freq\":65.41},\r\n  {\"midiId\":35,\"pianoKey\":\"15\",\"NoteName\":\"B1\",\"freq\":61.74},\r\n  {\"midiId\":34,\"pianoKey\":\"14\",\"NoteName\":\"A#1/Bb1\",\"freq\":58.27},\r\n  {\"midiId\":33,\"pianoKey\":\"13\",\"NoteName\":\"A1\",\"freq\":55},\r\n  {\"midiId\":32,\"pianoKey\":\"12\",\"NoteName\":\"G#1/Ab1\",\"freq\":51.91},\r\n  {\"midiId\":31,\"pianoKey\":\"11\",\"NoteName\":\"G1\",\"freq\":49},\r\n  {\"midiId\":30,\"pianoKey\":\"10\",\"NoteName\":\"F#1/Gb1\",\"freq\":46.25},\r\n  {\"midiId\":29,\"pianoKey\":\"9\",\"NoteName\":\"F1\",\"freq\":43.65},\r\n  {\"midiId\":28,\"pianoKey\":\"8\",\"NoteName\":\"E1\",\"freq\":41.2},\r\n  {\"midiId\":27,\"pianoKey\":\"7\",\"NoteName\":\"D#1/Eb1\",\"freq\":38.89},\r\n  {\"midiId\":26,\"pianoKey\":\"6\",\"NoteName\":\"D1\",\"freq\":36.71},\r\n  {\"midiId\":25,\"pianoKey\":\"5\",\"NoteName\":\"C#1/Db1\",\"freq\":34.65},\r\n  {\"midiId\":24,\"pianoKey\":\"4\",\"NoteName\":\"C1\",\"freq\":32.7},\r\n  {\"midiId\":23,\"pianoKey\":\"3\",\"NoteName\":\"B0\",\"freq\":30.87},\r\n  {\"midiId\":22,\"pianoKey\":\"2\",\"NoteName\":\"A#0/Bb0\",\"freq\":29.14},\r\n  {\"midiId\":21,\"pianoKey\":\"1\",\"NoteName\":\"A0\",\"freq\":27.5}\r\n];\r\n\r\nexport const notes = midiNumbers.map(midi => ({\r\n  ...midi,\r\n}));\r\n\r\nexport default {\r\n  getNoteByMIDINumber(midiNumber) {\r\n    return midiNumbers.find(midi => midi.midiId === midiNumber);\r\n  },\r\n};\r\n","<template>\r\n  <div class=\"container\">\r\n    <white-button\r\n      :key=\"button.NoteName\"\r\n      :button=\"button\"\r\n      v-for=\"button in whites\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { notes } from '../config/notes';\r\nimport WhiteButton from './whiteButton';\r\n\r\nexport default {\r\n  name: 'Piano',\r\n  components: {\r\n    WhiteButton,\r\n  },\r\n  props: {},\r\n  computed: {\r\n  },\r\n  methods: {\r\n    createWhites(notes) {\r\n      return notes\r\n          .filter(numb => numb.NoteName.length === 2)\r\n          .reverse()\r\n          .map(note => ({\r\n            ...note,\r\n            noteDies: notes.find(subNote => subNote.NoteName[0] === note.NoteName[0] && subNote.NoteName[2] === note.NoteName[1])\r\n          }));\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      whites: this.createWhites(notes),\r\n      notes,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  width: 100vw;\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  height: 13vw;\r\n  -webkit-box-shadow: 0px -4px 8px 0px rgba(34, 60, 80, 0.2);\r\n  -moz-box-shadow: 0px -4px 8px 0px rgba(34, 60, 80, 0.2);\r\n  box-shadow: 0px -4px 8px 0px rgba(34, 60, 80, 0.2);\r\n  display: flex;\r\n  background: black;\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    @mouseover.stop.prevent=\"checkEmitting\"\r\n    @mouseleave=\"over = false\"\r\n    :class=\"{ active, pressed: click && over }\"\r\n    class=\"white-button-container\">\r\n    <black-button\r\n      v-if=\"hasNoteDies\"\r\n      :button=\"button.noteDies\"\r\n      />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EventBus from '../utills/EventBus';\r\nimport BlackButton from './blackButton';\r\n\r\nexport default {\r\n  inject: ['activeButtons', 'mouseClicked'],\r\n  name: 'whiteButton',\r\n  components: {\r\n    BlackButton,\r\n  },\r\n  props: {\r\n    button: {\r\n      type: Object,\r\n      required: true,\r\n    }\r\n  },\r\n  watch: {\r\n    active(nVal) {\r\n      if (nVal) {\r\n        EventBus.$emit('press:button', {\r\n          ...this.topCenterPosition,\r\n          power: this.activeButtons.value.get(this.button.NoteName),\r\n        });\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    hasNoteDies() {\r\n      return this.button.noteDies !== undefined;\r\n    },\r\n    active() {\r\n      return this.activeButtons.value.has(this.button.NoteName);\r\n    },\r\n    click() {\r\n      return this.mouseClicked.value;\r\n    },\r\n  },\r\n  methods: {\r\n    checkEmitting() {\r\n      this.over = true;\r\n      if (this.click) {\r\n        EventBus.$emit('press:button', {\r\n          ...this.topCenterPosition,\r\n          power: 100,\r\n        });\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      pressed: false,\r\n      over: false,\r\n      topCenterPosition: { top: null, left: null, width: null, center: null },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.topCenterPosition.top = this.$el.getBoundingClientRect().top;\r\n    this.topCenterPosition.width = this.$el.getBoundingClientRect().width;\r\n    this.topCenterPosition.left = this.$el.getBoundingClientRect().left;\r\n    this.topCenterPosition.center = this.topCenterPosition.left + this.topCenterPosition.width / 2;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.white-button-container {\r\n  width: calc(100vw / 50 - 2px);\r\n  border: 1px solid rgba(0,0,0,0.2);\r\n  position: relative;\r\n  border-bottom-left-radius: 6px;\r\n  border-bottom-right-radius: 6px;\r\n  background: white;\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: none;\r\n  -o-user-select: none;\r\n  user-select: none;\r\n}\r\n.white-button-container.active {\r\n  background: lime;\r\n}\r\n.white-button-container.pressed {\r\n  background: lime;\r\n}\r\n\r\n</style>\r\n","import emitter from 'tiny-emitter/instance'\r\n\r\nexport default {\r\n  $on: (...args) => emitter.on(...args),\r\n  $once: (...args) => emitter.once(...args),\r\n  $off: (...args) => emitter.off(...args),\r\n  $emit: (...args) => emitter.emit(...args)\r\n}\r\n","<template>\r\n  <div\r\n      @mouseover.stop.prevent=\"checkEmitting\"\r\n      @mouseleave=\"over = false\"\r\n      :class=\"{ active, pressed: click && over }\"\r\n      class=\"black-button-container\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport EventBus from '../utills/EventBus';\r\n\r\nexport default {\r\n  inject: ['activeButtons', 'mouseClicked'],\r\n  name: 'blackButton',\r\n  components: {},\r\n  watch: {\r\n    active(nVal) {\r\n      if (nVal) {\r\n        EventBus.$emit('press:button', {\r\n          ...this.topCenterPosition,\r\n          power: this.activeButtons.value.get(this.button.NoteName),\r\n        });\r\n      }\r\n    },\r\n  },\r\n  props: {\r\n    button: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  computed: {\r\n    active() {\r\n      return this.activeButtons.value.has(this.button.NoteName);\r\n    },\r\n    click() {\r\n      return this.mouseClicked.value;\r\n    },\r\n  },\r\n  methods: {\r\n    checkEmitting() {\r\n      this.over = true;\r\n      if (this.click) {\r\n        EventBus.$emit('press:button', {\r\n          ...this.topCenterPosition,\r\n          power: 100,\r\n        });\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      pressed: false,\r\n      over: false,\r\n      topCenterPosition: { top: null, left: null, width: null, center: null },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.topCenterPosition.top = this.$el.getBoundingClientRect().top;\r\n    this.topCenterPosition.width = this.$el.getBoundingClientRect().width;\r\n    this.topCenterPosition.left = this.$el.getBoundingClientRect().left;\r\n    this.topCenterPosition.center = this.topCenterPosition.left + this.topCenterPosition.width / 2;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.black-button-container {\r\n  background: black;\r\n  width: calc(100vw / 60 - 2px);\r\n  border: 1px solid rgba(0,0,0,0.2);\r\n  z-index: 1;\r\n  position: absolute;\r\n  left: calc((100vw / 50 - 2px) * 0.55);\r\n  top: 0;\r\n  height: 66%;\r\n  border-bottom-left-radius: 6px;\r\n  border-bottom-right-radius: 6px;\r\n  -webkit-user-select: none;\r\n  -khtml-user-select: none;\r\n  -moz-user-select: none;\r\n  -o-user-select: none;\r\n  user-select: none;\r\n}\r\n.black-button-container.active {\r\n  background: lime;\r\n}\r\n.black-button-container.pressed {\r\n  background: lime;\r\n}\r\n\r\n</style>\r\n","import { render } from \"./blackButton.vue?vue&type=template&id=50c31804&scoped=true\"\nimport script from \"./blackButton.vue?vue&type=script&lang=js\"\nexport * from \"./blackButton.vue?vue&type=script&lang=js\"\n\nimport \"./blackButton.vue?vue&type=style&index=0&id=50c31804&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\web\\\\mywebsite\\\\PianoMidi\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-50c31804\"]])\n\nexport default __exports__","import { render } from \"./whiteButton.vue?vue&type=template&id=43291ee0&scoped=true\"\nimport script from \"./whiteButton.vue?vue&type=script&lang=js\"\nexport * from \"./whiteButton.vue?vue&type=script&lang=js\"\n\nimport \"./whiteButton.vue?vue&type=style&index=0&id=43291ee0&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\web\\\\mywebsite\\\\PianoMidi\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-43291ee0\"]])\n\nexport default __exports__","import { render } from \"./Piano.vue?vue&type=template&id=2053170e&scoped=true\"\nimport script from \"./Piano.vue?vue&type=script&lang=js\"\nexport * from \"./Piano.vue?vue&type=script&lang=js\"\n\nimport \"./Piano.vue?vue&type=style&index=0&id=2053170e&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\web\\\\mywebsite\\\\PianoMidi\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2053170e\"]])\n\nexport default __exports__",".<template>\r\n  <canvas ref=\"canvas\">\r\n  </canvas>\r\n</template>\r\n\r\n<script>\r\nimport EventBus from '../utills/EventBus';\r\nimport vertex from '../utills/shaders/vertex';\r\nimport fragment from '../utills/shaders/fragment';\r\n\r\nconst TOTAL_COLS = 240;\r\n\r\nexport default {\r\n  name: 'canvasBackdrop',\r\n  components: {},\r\n  props: {},\r\n  computed: {\r\n    lastButton() {\r\n      return this.lastReleasedButton.value && this.lastReleasedButton.value.NoteName;\r\n    }\r\n  },\r\n  methods: {\r\n    initWebGL(canvas) {\r\n      let gl = null;\r\n      try {\r\n        gl = canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\");\r\n      } catch(e) {\r\n        console.error(e);\r\n      }\r\n      if (!gl) {\r\n        alert(\"Unable to initialize WebGL. Your browser may not support it.\");\r\n        gl = null;\r\n      }\r\n      return gl;\r\n    },\r\n    start() {\r\n      this.gl = this.initWebGL(this.$refs.canvas);\r\n      if (!this.gl) {\r\n        return;\r\n      }\r\n      this.gl.clearColor(255.0, 255.0, 255.0, 1.0);                      // установить в качестве цвета очистки буфера цвета чёрный, полная непрозрачность\r\n      this.gl.enable(this.gl.DEPTH_TEST);                               // включает использование буфера глубины\r\n      this.gl.depthFunc(this.gl.LEQUAL);                                // определяет работу буфера глубины: более ближние объекты перекрывают дальние\r\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT);      // очистить буфер цвета и буфер глубины.\r\n\r\n\r\n      // setup a GLSL program\r\n      const vertexShader = this.createVertexShader(this.gl, vertex);\r\n      const fragmentShader = this.createFragmentShader(this.gl, fragment);\r\n      this.program = this.gl.createProgram();\r\n      this.gl.attachShader(this.program, vertexShader);\r\n      this.gl.attachShader(this.program, fragmentShader);\r\n      this.gl.linkProgram(this.program);\r\n\r\n      // look up where the vertex data needs to go.\r\n      var positionAttributeLocation  = this.gl.getAttribLocation(this.program, \"coordinates\");\r\n\r\n      // Create a buffer and put a single clipspace rectangle in\r\n      // it (2 triangles)\r\n      var positionBuffer = this.gl.createBuffer();\r\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, positionBuffer);\r\n      this.gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\r\n      this.gl.useProgram(this.program);\r\n      this.gl.enableVertexAttribArray(positionAttributeLocation);\r\n\r\n      // Tell the attribute how to get data out of positionBuffer (ARRAY_BUFFER)\r\n      var size = 3;          // 2 components per iteration\r\n      var type = this.gl.FLOAT;   // the data is 32bit floats\r\n      var normalize = false; // don't normalize the data\r\n      var stride = 0;        // 0 = move forward size * sizeof(type) each iteration to get the next position\r\n      var offset1 = 0;        // start at the beginning of the buffer\r\n      this.gl.vertexAttribPointer(positionAttributeLocation, size, type, normalize, stride, offset1);\r\n    },\r\n    createFragmentShader(gl, fragment) {\r\n      const shader = gl.createShader(gl.FRAGMENT_SHADER);\r\n      gl.shaderSource(shader, fragment);\r\n      gl.compileShader(shader);\r\n      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n        console.error(\"An error occurred compiling the shaders: \" + gl.getShaderInfoLog(shader));\r\n        return null;\r\n      }\r\n      return shader;\r\n    },\r\n    createVertexShader(gl, vertex) {\r\n      const shader = gl.createShader(gl.VERTEX_SHADER);\r\n      gl.shaderSource(shader, vertex);\r\n      gl.compileShader(shader);\r\n      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n        console.error(\"An error occurred compiling the shaders: \" + gl.getShaderInfoLog(shader));\r\n        return null;\r\n      }\r\n      return shader;\r\n    },\r\n    handlePressedButton(data) {\r\n      const index = Math.floor(data.center / window.innerWidth * TOTAL_COLS);\r\n      const oldVala = this.drawLine.additionalPoints[index];\r\n      const delta = data.power / 400;\r\n      let newVal;\r\n      if ((oldVala + delta) > 0.25) {\r\n        newVal = 0.25;\r\n      } else {\r\n        newVal = oldVala + delta;\r\n      }\r\n      this.drawLine.additionalPoints[index] = newVal;\r\n      for(let i = 10; i > 0; i--) {\r\n        if ((index + i) < this.drawLine.additionalPoints.length) {\r\n          const oldVal = this.drawLine.additionalPoints[index + i];\r\n          const delta = newVal * Math.tanh((10 - i)/19);\r\n          if ((oldVal + delta) > 0.25) {\r\n            this.drawLine.additionalPoints[index + i] = Math.max(oldVal, 0.25 - 0.05 * i);\r\n          } else {\r\n            this.drawLine.additionalPoints[index + i] = oldVal + delta;\r\n          }\r\n        }\r\n        if ((index - i) >= 0) {\r\n          const oldVal = this.drawLine.additionalPoints[index - i];\r\n          const delta = newVal * Math.tanh((10 - i)/19);\r\n          if ((oldVal + delta) > 0.25) {\r\n            this.drawLine.additionalPoints[index - i] = Math.max(oldVal, 0.25 - 0.05 * i);\r\n          } else {\r\n            this.drawLine.additionalPoints[index - i] = oldVal + delta;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    draw() {\r\n      this.gl.clearColor(255.0, 255.0, 255.0, 1.0);\r\n      let last = null;\r\n      var positions = this.drawLine.additionalPoints\r\n          .map((height, index) => {\r\n            const oldHeight = this.drawLine.additionalPoints[index];\r\n            this.drawLine.additionalPoints[index] = Math.fround(oldHeight * 0.9);\r\n            last = [index / TOTAL_COLS * 2 - 1, - (this.drawLine.baseHeight / this.gl.canvas.height - oldHeight), 0];\r\n            return last;\r\n          })\r\n          .flat();\r\n      this.cachedArrays.push(new Float32Array(positions));\r\n      if (this.cachedArrays.length > 50) {\r\n        this.cachedArrays.shift();\r\n      }\r\n      let matrixLocation = this.gl.getUniformLocation(this.program, \"u_matrix\");\r\n      for (let i = 0; i < this.cachedArrays.length; i++) {\r\n        const matrix = [\r\n            1, 0, 0,\r\n            0, 1, 0,\r\n            0, 1.5 - i / (this.cachedArrays.length / 1.5), 0\r\n        ];\r\n        this.gl.uniformMatrix3fv(matrixLocation, false, matrix);\r\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, this.cachedArrays[i], this.gl.STATIC_DRAW);\r\n        var primitiveType = this.gl.LINE_STRIP;\r\n        var offset2 = 0;\r\n        this.gl.drawArrays(primitiveType, offset2, TOTAL_COLS);\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      ctx: null,\r\n      intervalId: null,\r\n      drawLine: new Array(46),\r\n      cachedArrays: [],\r\n      step: 0,\r\n      gl: null,\r\n      program: null,\r\n    };\r\n  },\r\n  beforeUnmount() {\r\n    clearInterval(this.intervalId);\r\n  },\r\n  mounted() {\r\n    this.$refs.canvas.width = window.innerWidth;\r\n    this.step = Math.floor(window.innerWidth / TOTAL_COLS);\r\n    this.$refs.canvas.height = window.innerHeight;\r\n    EventBus.$on('press:button', this.handlePressedButton.bind(this));\r\n    this.intervalId = setInterval(this.draw.bind(this), 100);\r\n    this.drawLine = {\r\n      baseHeight:  (window.innerHeight - (window.innerWidth / 100 * 26)),\r\n      additionalPoints: (new Array(TOTAL_COLS)).fill(0),\r\n    }\r\n    this.start();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n","export default `\r\nattribute vec2 coordinates;\r\nuniform mat3 u_matrix;\r\n\r\n\r\nvoid main(void) {\r\n  vec2 position = (u_matrix * vec3(coordinates, 1)).xy;\r\n  gl_Position = vec4(position, 0, 1.0);\r\n}\r\n`;\r\n","export default `\r\n// fragment shaders don't have a default precision so we need\r\n// to pick one. mediump is a good default\r\nprecision mediump float;\r\n\r\nvoid main() {\r\n  // gl_FragColor is a special variable a fragment shader\r\n  // is responsible for setting\r\n  gl_FragColor = vec4(1, 0, 0.5, 1); // return reddish-purple\r\n}`;\r\n","import { render } from \"./canvasBackdrop.vue?vue&type=template&id=250d4c6a\"\nimport script from \"./canvasBackdrop.vue?vue&type=script&lang=js\"\nexport * from \"./canvasBackdrop.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\web\\\\mywebsite\\\\PianoMidi\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"settings-container\">\r\n    select a midi source\r\n    <select\r\n      @input=\"$emit('update:modelValue', $event.target.value)\"\r\n      @select=\"$emit('update:modelValue', $event.target.value)\"\r\n      :value=\"modelValue\" >\r\n      <option\r\n        :key=\"device.midi.id\"\r\n        :value=\"device.midi.id\"\r\n        v-for=\"(device) in availableMidiDevices\">\r\n        {{device.name}}\r\n      </option>\r\n    </select>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: 'settings',\r\n  components: {},\r\n  props: {\r\n    availableMidiDevices: {\r\n      type: Array,\r\n      default: () => ([]),\r\n    },\r\n    modelValue: [String, Object],\r\n  },\r\n  computed: {},\r\n  methods: {},\r\n  data() {\r\n    return {};\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.settings-container {\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: 0;\r\n  left: 0;\r\n  background: white;\r\n  -webkit-box-shadow: 0px 0px 15px -1px #000000;\r\n  box-shadow: 0px 0px 15px -1px #000000;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n</style>\r\n","import { render } from \"./settings.vue?vue&type=template&id=08c33cfa&scoped=true\"\nimport script from \"./settings.vue?vue&type=script&lang=js\"\nexport * from \"./settings.vue?vue&type=script&lang=js\"\n\nimport \"./settings.vue?vue&type=style&index=0&id=08c33cfa&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\web\\\\mywebsite\\\\PianoMidi\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-08c33cfa\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=2db12758&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2db12758&lang=css\"\nimport \"./App.vue?vue&type=style&index=1&id=2db12758&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\web\\\\mywebsite\\\\PianoMidi\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2db12758\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App, {\n}).mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Piano.vue?vue&type=style&index=0&id=2053170e&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=1&id=2db12758&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./whiteButton.vue?vue&type=style&index=0&id=43291ee0&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./settings.vue?vue&type=style&index=0&id=08c33cfa&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=2db12758&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./blackButton.vue?vue&type=style&index=0&id=50c31804&scoped=true&lang=css\""],"sourceRoot":""}