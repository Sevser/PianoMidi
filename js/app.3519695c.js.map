{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/blackButton.vue?2e2f","webpack:///./src/App.vue","webpack:///./src/config/notes.js","webpack:///./src/components/Piano.vue","webpack:///./src/components/whiteButton.vue","webpack:///./src/utills/EventBus.js","webpack:///./src/components/blackButton.vue","webpack:///./src/components/blackButton.vue?ee09","webpack:///./src/components/whiteButton.vue?aa9e","webpack:///./src/components/Piano.vue?d7a7","webpack:///./src/components/canvasBackdrop.vue","webpack:///./src/utills/shaders/vertex.js","webpack:///./src/utills/shaders/fragment.js","webpack:///./src/components/canvasBackdrop.vue?87a8","webpack:///./src/App.vue?8ecf","webpack:///./src/main.js","webpack:///./src/components/Piano.vue?4725","webpack:///./src/App.vue?e572","webpack:///./src/components/whiteButton.vue?f145","webpack:///./src/App.vue?fe5a"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","midiNumbers","notes","map","midi","getNoteByMIDINumber","midiNumber","find","midiId","whites","button","NoteName","clickButton","pressed","active","hasNoteDies","noteDies","$on","emitter","on","$once","once","$off","off","$emit","emit","inject","components","watch","nVal","EventBus","this","topCenterPosition","power","activeButtons","props","type","required","computed","has","methods","top","left","width","center","mounted","$el","getBoundingClientRect","__exports__","BlackButton","undefined","WhiteButton","createWhites","filter","numb","reverse","note","subNote","ref","TOTAL_COLS","lastButton","lastReleasedButton","initWebGL","canvas","gl","getContext","e","console","error","alert","start","$refs","clearColor","enable","DEPTH_TEST","depthFunc","LEQUAL","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","vertexShader","createVertexShader","vertex","fragmentShader","createFragmentShader","fragment","program","createProgram","attachShader","linkProgram","positionAttributeLocation","getAttribLocation","positionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","viewport","height","useProgram","enableVertexAttribArray","size","FLOAT","normalize","stride","offset1","vertexAttribPointer","shader","createShader","FRAGMENT_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","VERTEX_SHADER","handlePressedButton","newVal","index","Math","floor","innerWidth","oldVala","drawLine","additionalPoints","delta","oldVal","tanh","max","draw","last","positions","oldHeight","fround","baseHeight","flat","cachedArrays","Float32Array","matrixLocation","getUniformLocation","matrix","uniformMatrix3fv","bufferData","STATIC_DRAW","primitiveType","LINE_STRIP","offset2","drawArrays","ctx","intervalId","Array","step","beforeUnmount","clearInterval","innerHeight","setInterval","fill","provide","CanvasBackdrop","Piano","logs","pressedButtons","Map","onMIDISuccess","midiAccess","log","listInputsAndOutputs","startLoggingMIDIInput","onMIDIFailure","msg","inputs","entry","input","id","manufacturer","version","outputs","output","onMIDIMessage","event","delete","set","forEach","onmidimessage","navigator","requestMIDIAccess","then","render","createApp","App","mount"],"mappings":"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","file":"js/app.3519695c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/PianoMidi/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./blackButton.vue?vue&type=style&index=0&id=3577ca5f&scoped=true&lang=css\"","<template>\n  <div class=\"app container\">\n    <canvas-backdrop />\n    <Piano />\n  </div>\n</template>\n\n<script>\nimport notes from './config/notes';\n// import messageType from './config/messageType';\nimport Piano from './components/Piano';\nimport { computed } from 'vue';\nimport CanvasBackdrop from './components/canvasBackdrop';\n\nexport default {\n  provide() {\n    return {\n      activeButtons: computed(() => this.activeButtons),\n      lastReleasedButton: computed(() => this.lastReleasedButton),\n    }\n  },\n  name: 'App',\n  components: {\n    CanvasBackdrop,\n    Piano,\n  },\n  data: () => ({\n    logs: [],\n    pressedButtons: [],\n    lastReleasedButton: null,\n    midi: null,\n    activeButtons: new Map(),\n  }),\n  methods: {\n    onMIDISuccess( midiAccess ) {\n      console.log( \"MIDI ready!\" );\n      this.midi = midiAccess;  // store in the global (in real usage, would probably keep in an object instance)\n      this.listInputsAndOutputs(this.midi);\n      this.startLoggingMIDIInput(this.midi);\n    },\n    onMIDIFailure(msg) {\n      console.log( \"Failed to get MIDI access - \" + msg );\n    },\n    listInputsAndOutputs( midiAccess ) {\n      for (let entry of midiAccess.inputs) {\n        var input = entry[1];\n        console.log(\"Input port [type:'\" + input.type + \"'] id:'\" + input.id +\n            \"' manufacturer:'\" + input.manufacturer + \"' name:'\" + input.name +\n            \"' version:'\" + input.version + \"'\");\n      }\n      for (let entry of midiAccess.outputs) {\n        var output = entry[1];\n        console.log( \"Output port [type:'\" + output.type + \"'] id:'\" + output.id +\n            \"' manufacturer:'\" + output.manufacturer + \"' name:'\" + output.name +\n            \"' version:'\" + output.version + \"'\" );\n      }\n    },\n    onMIDIMessage( event ) {\n      if (event.data[0] === 128) {\n        this.activeButtons.delete(notes.getNoteByMIDINumber(event.data[1]).NoteName);\n      } else if (event.data[0] === 144) {\n        this.lastReleasedButton = notes.getNoteByMIDINumber(event.data[1]);\n        this.activeButtons.set(this.lastReleasedButton.NoteName, event.data[2]);\n      }\n    },\n    startLoggingMIDIInput( midiAccess ) {\n      midiAccess.inputs.forEach( entry => {\n        entry.onmidimessage = this.onMIDIMessage;\n      });\n    }\n  },\n  mounted() {\n    navigator\n        .requestMIDIAccess()\n        .then( this.onMIDISuccess.bind(this), this.onMIDIFailure.bind(this) );\n  },\n}\n</script>\n\n<style>\nhtml, body, div#app, .container.app {\n  height: 100%;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n  position: relative;\n  overflow: hidden;\n}\n</style>\n<style scoped>\n.container.app {\n  display: flex;\n}\n</style>\n","const midiNumbers = [\r\n  {\"midiId\":108,\"pianoKey\":\"88\",\"NoteName\":\"C8\",\"freq\":4186.01},\r\n  {\"midiId\":107,\"pianoKey\":\"87\",\"NoteName\":\"B7\",\"freq\":3951.07},\r\n  {\"midiId\":106,\"pianoKey\":\"86\",\"NoteName\":\"A#7/Bb7\",\"freq\":3729.31},\r\n  {\"midiId\":105,\"pianoKey\":\"85\",\"NoteName\":\"A7\",\"freq\":3520},\r\n  {\"midiId\":104,\"pianoKey\":\"84\",\"NoteName\":\"G#7/Ab7\",\"freq\":3322.44},\r\n  {\"midiId\":103,\"pianoKey\":\"83\",\"NoteName\":\"G7\",\"freq\":3135.96},\r\n  {\"midiId\":102,\"pianoKey\":\"82\",\"NoteName\":\"F#7/Gb7\",\"freq\":2959.96},\r\n  {\"midiId\":101,\"pianoKey\":\"81\",\"NoteName\":\"F7\",\"freq\":2793.83},\r\n  {\"midiId\":100,\"pianoKey\":\"80\",\"NoteName\":\"E7\",\"freq\":2637.02},\r\n  {\"midiId\":99,\"pianoKey\":\"79\",\"NoteName\":\"D#7/Eb7\",\"freq\":2489.02},\r\n  {\"midiId\":98,\"pianoKey\":\"78\",\"NoteName\":\"D7\",\"freq\":2349.32},\r\n  {\"midiId\":97,\"pianoKey\":\"77\",\"NoteName\":\"C#7/Db7\",\"freq\":2217.46},\r\n  {\"midiId\":96,\"pianoKey\":\"76\",\"NoteName\":\"C7\",\"freq\":2093},\r\n  {\"midiId\":95,\"pianoKey\":\"75\",\"NoteName\":\"B6\",\"freq\":1975.53},\r\n  {\"midiId\":94,\"pianoKey\":\"74\",\"NoteName\":\"A#6/Bb6\",\"freq\":1864.66},\r\n  {\"midiId\":93,\"pianoKey\":\"73\",\"NoteName\":\"A6\",\"freq\":1760},\r\n  {\"midiId\":92,\"pianoKey\":\"72\",\"NoteName\":\"G#6/Ab6\",\"freq\":1661.22},\r\n  {\"midiId\":91,\"pianoKey\":\"71\",\"NoteName\":\"G6\",\"freq\":1567.98},\r\n  {\"midiId\":90,\"pianoKey\":\"70\",\"NoteName\":\"F#6/Gb6\",\"freq\":1479.98},\r\n  {\"midiId\":89,\"pianoKey\":\"69\",\"NoteName\":\"F6\",\"freq\":1396.91},\r\n  {\"midiId\":88,\"pianoKey\":\"68\",\"NoteName\":\"E6\",\"freq\":1318.51},\r\n  {\"midiId\":87,\"pianoKey\":\"67\",\"NoteName\":\"D#6/Eb6\",\"freq\":1244.51},\r\n  {\"midiId\":86,\"pianoKey\":\"66\",\"NoteName\":\"D6\",\"freq\":1174.66},\r\n  {\"midiId\":85,\"pianoKey\":\"65\",\"NoteName\":\"C#6/Db6\",\"freq\":1108.73},\r\n  {\"midiId\":84,\"pianoKey\":\"64\",\"NoteName\":\"C6\",\"freq\":1046.5},\r\n  {\"midiId\":83,\"pianoKey\":\"63\",\"NoteName\":\"B5\",\"freq\":987.77},\r\n  {\"midiId\":82,\"pianoKey\":\"62\",\"NoteName\":\"A#5/Bb5\",\"freq\":932.33},\r\n  {\"midiId\":81,\"pianoKey\":\"61\",\"NoteName\":\"A5\",\"freq\":880},\r\n  {\"midiId\":80,\"pianoKey\":\"60\",\"NoteName\":\"G#5/Ab5\",\"freq\":830.61},\r\n  {\"midiId\":79,\"pianoKey\":\"59\",\"NoteName\":\"G5\",\"freq\":783.99},\r\n  {\"midiId\":78,\"pianoKey\":\"58\",\"NoteName\":\"F#5/Gb5\",\"freq\":739.99},\r\n  {\"midiId\":77,\"pianoKey\":\"57\",\"NoteName\":\"F5\",\"freq\":698.46},\r\n  {\"midiId\":76,\"pianoKey\":\"56\",\"NoteName\":\"E5\",\"freq\":659.26},\r\n  {\"midiId\":75,\"pianoKey\":\"55\",\"NoteName\":\"D#5/Eb5\",\"freq\":622.25},\r\n  {\"midiId\":74,\"pianoKey\":\"54\",\"NoteName\":\"D5\",\"freq\":587.33},\r\n  {\"midiId\":73,\"pianoKey\":\"53\",\"NoteName\":\"C#5/Db5\",\"freq\":554.37},\r\n  {\"midiId\":72,\"pianoKey\":\"52\",\"NoteName\":\"C5\",\"freq\":523.25},\r\n  {\"midiId\":71,\"pianoKey\":\"51\",\"NoteName\":\"B4\",\"freq\":493.88},\r\n  {\"midiId\":70,\"pianoKey\":\"50\",\"NoteName\":\"A#4/Bb4\",\"freq\":466.16},\r\n  {\"midiId\":69,\"pianoKey\":\"49\",\"NoteName\":\"A4 concert pitch\",\"freq\":440},\r\n  {\"midiId\":68,\"pianoKey\":\"48\",\"NoteName\":\"G#4/Ab4\",\"freq\":415.3},\r\n  {\"midiId\":67,\"pianoKey\":\"47\",\"NoteName\":\"G4\",\"freq\":392},\r\n  {\"midiId\":66,\"pianoKey\":\"46\",\"NoteName\":\"F#4/Gb4\",\"freq\":369.99},\r\n  {\"midiId\":65,\"pianoKey\":\"45\",\"NoteName\":\"F4\",\"freq\":349.23},\r\n  {\"midiId\":64,\"pianoKey\":\"44\",\"NoteName\":\"E4\",\"freq\":329.63},\r\n  {\"midiId\":63,\"pianoKey\":\"43\",\"NoteName\":\"D#4/Eb4\",\"freq\":311.13},\r\n  {\"midiId\":62,\"pianoKey\":\"42\",\"NoteName\":\"D4\",\"freq\":293.66},\r\n  {\"midiId\":61,\"pianoKey\":\"41\",\"NoteName\":\"C#4/Db4\",\"freq\":277.18},\r\n  {\"midiId\":60,\"pianoKey\":\"40\",\"NoteName\":\"C4 (middle C)\",\"freq\":261.63},\r\n  {\"midiId\":59,\"pianoKey\":\"39\",\"NoteName\":\"B3\",\"freq\":246.94},\r\n  {\"midiId\":58,\"pianoKey\":\"38\",\"NoteName\":\"A#3/Bb3\",\"freq\":233.08},\r\n  {\"midiId\":57,\"pianoKey\":\"37\",\"NoteName\":\"A3\",\"freq\":220},\r\n  {\"midiId\":56,\"pianoKey\":\"36\",\"NoteName\":\"G#3/Ab3\",\"freq\":207.65},\r\n  {\"midiId\":55,\"pianoKey\":\"35\",\"NoteName\":\"G3\",\"freq\":196},\r\n  {\"midiId\":54,\"pianoKey\":\"34\",\"NoteName\":\"F#3/Gb3\",\"freq\":185},\r\n  {\"midiId\":53,\"pianoKey\":\"33\",\"NoteName\":\"F3\",\"freq\":174.61},\r\n  {\"midiId\":52,\"pianoKey\":\"32\",\"NoteName\":\"E3\",\"freq\":164.81},\r\n  {\"midiId\":51,\"pianoKey\":\"31\",\"NoteName\":\"D#3/Eb3\",\"freq\":155.56},\r\n  {\"midiId\":50,\"pianoKey\":\"30\",\"NoteName\":\"D3\",\"freq\":146.83},\r\n  {\"midiId\":49,\"pianoKey\":\"29\",\"NoteName\":\"C#3/Db3\",\"freq\":138.59},\r\n  {\"midiId\":48,\"pianoKey\":\"28\",\"NoteName\":\"C3\",\"freq\":130.81},\r\n  {\"midiId\":47,\"pianoKey\":\"27\",\"NoteName\":\"B2\",\"freq\":123.47},\r\n  {\"midiId\":46,\"pianoKey\":\"26\",\"NoteName\":\"A#2/Bb2\",\"freq\":116.54},\r\n  {\"midiId\":45,\"pianoKey\":\"25\",\"NoteName\":\"A2\",\"freq\":110},\r\n  {\"midiId\":44,\"pianoKey\":\"24\",\"NoteName\":\"G#2/Ab2\",\"freq\":103.83},\r\n  {\"midiId\":43,\"pianoKey\":\"23\",\"NoteName\":\"G2\",\"freq\":98},\r\n  {\"midiId\":42,\"pianoKey\":\"22\",\"NoteName\":\"F#2/Gb2\",\"freq\":92.5},\r\n  {\"midiId\":41,\"pianoKey\":\"21\",\"NoteName\":\"F2\",\"freq\":87.31},\r\n  {\"midiId\":40,\"pianoKey\":\"20\",\"NoteName\":\"E2\",\"freq\":82.41},\r\n  {\"midiId\":39,\"pianoKey\":\"19\",\"NoteName\":\"D#2/Eb2\",\"freq\":77.78},\r\n  {\"midiId\":38,\"pianoKey\":\"18\",\"NoteName\":\"D2\",\"freq\":73.42},\r\n  {\"midiId\":37,\"pianoKey\":\"17\",\"NoteName\":\"C#2/Db2\",\"freq\":69.3},\r\n  {\"midiId\":36,\"pianoKey\":\"16\",\"NoteName\":\"C2\",\"freq\":65.41},\r\n  {\"midiId\":35,\"pianoKey\":\"15\",\"NoteName\":\"B1\",\"freq\":61.74},\r\n  {\"midiId\":34,\"pianoKey\":\"14\",\"NoteName\":\"A#1/Bb1\",\"freq\":58.27},\r\n  {\"midiId\":33,\"pianoKey\":\"13\",\"NoteName\":\"A1\",\"freq\":55},\r\n  {\"midiId\":32,\"pianoKey\":\"12\",\"NoteName\":\"G#1/Ab1\",\"freq\":51.91},\r\n  {\"midiId\":31,\"pianoKey\":\"11\",\"NoteName\":\"G1\",\"freq\":49},\r\n  {\"midiId\":30,\"pianoKey\":\"10\",\"NoteName\":\"F#1/Gb1\",\"freq\":46.25},\r\n  {\"midiId\":29,\"pianoKey\":\"9\",\"NoteName\":\"F1\",\"freq\":43.65},\r\n  {\"midiId\":28,\"pianoKey\":\"8\",\"NoteName\":\"E1\",\"freq\":41.2},\r\n  {\"midiId\":27,\"pianoKey\":\"7\",\"NoteName\":\"D#1/Eb1\",\"freq\":38.89},\r\n  {\"midiId\":26,\"pianoKey\":\"6\",\"NoteName\":\"D1\",\"freq\":36.71},\r\n  {\"midiId\":25,\"pianoKey\":\"5\",\"NoteName\":\"C#1/Db1\",\"freq\":34.65},\r\n  {\"midiId\":24,\"pianoKey\":\"4\",\"NoteName\":\"C1\",\"freq\":32.7},\r\n  {\"midiId\":23,\"pianoKey\":\"3\",\"NoteName\":\"B0\",\"freq\":30.87},\r\n  {\"midiId\":22,\"pianoKey\":\"2\",\"NoteName\":\"A#0/Bb0\",\"freq\":29.14},\r\n  {\"midiId\":21,\"pianoKey\":\"1\",\"NoteName\":\"A0\",\"freq\":27.5}\r\n];\r\n\r\nexport const notes = midiNumbers.map(midi => ({\r\n  ...midi,\r\n}));\r\n\r\nexport default {\r\n  getNoteByMIDINumber(midiNumber) {\r\n    return midiNumbers.find(midi => midi.midiId === midiNumber);\r\n  },\r\n};\r\n","<template>\r\n  <div class=\"container\">\r\n    <white-button\r\n      :key=\"button.NoteName\"\r\n      :button=\"button\"\r\n      v-for=\"button in whites\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { notes } from '../config/notes';\r\nimport WhiteButton from './whiteButton';\r\n\r\nexport default {\r\n  name: 'Piano',\r\n  components: {\r\n    WhiteButton,\r\n  },\r\n  props: {},\r\n  computed: {\r\n  },\r\n  methods: {\r\n    createWhites(notes) {\r\n      return notes\r\n          .filter(numb => numb.NoteName.length === 2)\r\n          .reverse()\r\n          .map(note => ({\r\n            ...note,\r\n            noteDies: notes.find(subNote => subNote.NoteName[0] === note.NoteName[0] && subNote.NoteName[2] === note.NoteName[1])\r\n          }));\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      whites: this.createWhites(notes),\r\n      notes,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  width: 100vw;\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  height: 13vw;\r\n  -webkit-box-shadow: 0px -4px 8px 0px rgba(34, 60, 80, 0.2);\r\n  -moz-box-shadow: 0px -4px 8px 0px rgba(34, 60, 80, 0.2);\r\n  box-shadow: 0px -4px 8px 0px rgba(34, 60, 80, 0.2);\r\n  display: flex;\r\n  background: black;\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    @mousedown.stop.prevent=\"clickButton\"\r\n    @mouseenter.stop.prevent=\"clickButton\"\r\n    @mouseup.stop.prevent=\"pressed = false\"\r\n    @mouseleave.stop.prevent=\"pressed = false\"\r\n    :class=\"{ active, pressed }\"\r\n    class=\"white-button-container\">\r\n    <black-button\r\n      v-if=\"hasNoteDies\"\r\n      :button=\"button.noteDies\"\r\n      />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EventBus from '../utills/EventBus';\r\nimport BlackButton from './blackButton';\r\n\r\nexport default {\r\n  inject: ['activeButtons'],\r\n  name: 'whiteButton',\r\n  components: {\r\n    BlackButton,\r\n  },\r\n  props: {\r\n    button: {\r\n      type: Object,\r\n      required: true,\r\n    }\r\n  },\r\n  watch: {\r\n    active(nVal) {\r\n      if (nVal) {\r\n        EventBus.$emit('press:button', {\r\n          ...this.topCenterPosition,\r\n          power: this.activeButtons.value.get(this.button.NoteName),\r\n        });\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    hasNoteDies() {\r\n      return this.button.noteDies !== undefined;\r\n    },\r\n    active() {\r\n      return this.activeButtons.value.has(this.button.NoteName);\r\n    },\r\n  },\r\n  methods: {\r\n    clickButton() {\r\n      this.pressed = true;\r\n      EventBus.$emit('press:button', {\r\n        ...this.topCenterPosition,\r\n        power: 100,\r\n      });\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      pressed: false,\r\n      topCenterPosition: { top: null, left: null, width: null, center: null },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.topCenterPosition.top = this.$el.getBoundingClientRect().top;\r\n    this.topCenterPosition.width = this.$el.getBoundingClientRect().width;\r\n    this.topCenterPosition.left = this.$el.getBoundingClientRect().left;\r\n    this.topCenterPosition.center = this.topCenterPosition.left + this.topCenterPosition.width / 2;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.white-button-container {\r\n  width: calc(100vw / 50 - 2px);\r\n  border: 1px solid rgba(0,0,0,0.2);\r\n  position: relative;\r\n  border-bottom-left-radius: 6px;\r\n  border-bottom-right-radius: 6px;\r\n  background: white;\r\n}\r\n.white-button-container.active {\r\n  background: lime;\r\n}\r\n.white-button-container.pressed {\r\n  background: lime;\r\n}\r\n\r\n</style>\r\n","import emitter from 'tiny-emitter/instance'\r\n\r\nexport default {\r\n  $on: (...args) => emitter.on(...args),\r\n  $once: (...args) => emitter.once(...args),\r\n  $off: (...args) => emitter.off(...args),\r\n  $emit: (...args) => emitter.emit(...args)\r\n}\r\n","<template>\r\n  <div\r\n      @mousedown.stop.prevent=\"clickButton\"\r\n      @mouseenter.stop.prevent=\"clickButton\"\r\n      @mouseup.stop.prevent=\"pressed = false\"\r\n      @mouseleave.stop.prevent=\"pressed = false\"\r\n      :class=\"{ active, pressed }\"\r\n      class=\"black-button-container\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport EventBus from '../utills/EventBus';\r\n\r\nexport default {\r\n  inject: ['activeButtons'],\r\n  name: 'blackButton',\r\n  components: {},\r\n  watch: {\r\n    active(nVal) {\r\n      if (nVal) {\r\n        EventBus.$emit('press:button', {\r\n          ...this.topCenterPosition,\r\n          power: this.activeButtons.value.get(this.button.NoteName),\r\n        });\r\n      }\r\n    },\r\n  },\r\n  props: {\r\n    button: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  computed: {\r\n    active() {\r\n      return this.activeButtons.value.has(this.button.NoteName);\r\n    },\r\n  },\r\n  methods: {\r\n    clickButton() {\r\n      this.pressed = true;\r\n      EventBus.$emit('press:button', {\r\n        ...this.topCenterPosition,\r\n        power: 100,\r\n      });\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      pressed: false,\r\n      topCenterPosition: { top: null, left: null, width: null, center: null },\r\n    };\r\n  },\r\n  mounted() {\r\n    this.topCenterPosition.top = this.$el.getBoundingClientRect().top;\r\n    this.topCenterPosition.width = this.$el.getBoundingClientRect().width;\r\n    this.topCenterPosition.left = this.$el.getBoundingClientRect().left;\r\n    this.topCenterPosition.center = this.topCenterPosition.left + this.topCenterPosition.width / 2;\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.black-button-container {\r\n  background: black;\r\n  width: calc(100vw / 60 - 2px);\r\n  border: 1px solid rgba(0,0,0,0.2);\r\n  z-index: 1;\r\n  position: absolute;\r\n  left: calc((100vw / 50 - 2px) * 0.55);\r\n  top: 0;\r\n  height: 66%;\r\n  border-bottom-left-radius: 6px;\r\n  border-bottom-right-radius: 6px;\r\n}\r\n.black-button-container.active {\r\n  background: lime;\r\n}\r\n.black-button-container.pressed {\r\n  background: lime;\r\n}\r\n\r\n</style>\r\n","import { render } from \"./blackButton.vue?vue&type=template&id=3577ca5f&scoped=true\"\nimport script from \"./blackButton.vue?vue&type=script&lang=js\"\nexport * from \"./blackButton.vue?vue&type=script&lang=js\"\n\nimport \"./blackButton.vue?vue&type=style&index=0&id=3577ca5f&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\web\\\\mywebsite\\\\PianoMidi\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3577ca5f\"]])\n\nexport default __exports__","import { render } from \"./whiteButton.vue?vue&type=template&id=035666a2&scoped=true\"\nimport script from \"./whiteButton.vue?vue&type=script&lang=js\"\nexport * from \"./whiteButton.vue?vue&type=script&lang=js\"\n\nimport \"./whiteButton.vue?vue&type=style&index=0&id=035666a2&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\web\\\\mywebsite\\\\PianoMidi\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-035666a2\"]])\n\nexport default __exports__","import { render } from \"./Piano.vue?vue&type=template&id=2053170e&scoped=true\"\nimport script from \"./Piano.vue?vue&type=script&lang=js\"\nexport * from \"./Piano.vue?vue&type=script&lang=js\"\n\nimport \"./Piano.vue?vue&type=style&index=0&id=2053170e&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\web\\\\mywebsite\\\\PianoMidi\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2053170e\"]])\n\nexport default __exports__",".<template>\r\n  <canvas ref=\"canvas\">\r\n  </canvas>\r\n</template>\r\n\r\n<script>\r\nimport EventBus from '../utills/EventBus';\r\nimport vertex from '../utills/shaders/vertex';\r\nimport fragment from '../utills/shaders/fragment';\r\n\r\nconst TOTAL_COLS = 240;\r\n\r\nexport default {\r\n  name: 'canvasBackdrop',\r\n  components: {},\r\n  props: {},\r\n  computed: {\r\n    lastButton() {\r\n      return this.lastReleasedButton.value && this.lastReleasedButton.value.NoteName;\r\n    }\r\n  },\r\n  methods: {\r\n    initWebGL(canvas) {\r\n      let gl = null;\r\n      try {\r\n        gl = canvas.getContext(\"webgl\") || canvas.getContext(\"experimental-webgl\");\r\n      } catch(e) {\r\n        console.error(e);\r\n      }\r\n      if (!gl) {\r\n        alert(\"Unable to initialize WebGL. Your browser may not support it.\");\r\n        gl = null;\r\n      }\r\n      return gl;\r\n    },\r\n    start() {\r\n      this.gl = this.initWebGL(this.$refs.canvas);\r\n      if (!this.gl) {\r\n        return;\r\n      }\r\n      this.gl.clearColor(255.0, 255.0, 255.0, 1.0);                      // установить в качестве цвета очистки буфера цвета чёрный, полная непрозрачность\r\n      this.gl.enable(this.gl.DEPTH_TEST);                               // включает использование буфера глубины\r\n      this.gl.depthFunc(this.gl.LEQUAL);                                // определяет работу буфера глубины: более ближние объекты перекрывают дальние\r\n      this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT);      // очистить буфер цвета и буфер глубины.\r\n\r\n\r\n      // setup a GLSL program\r\n      const vertexShader = this.createVertexShader(this.gl, vertex);\r\n      const fragmentShader = this.createFragmentShader(this.gl, fragment);\r\n      this.program = this.gl.createProgram();\r\n      this.gl.attachShader(this.program, vertexShader);\r\n      this.gl.attachShader(this.program, fragmentShader);\r\n      this.gl.linkProgram(this.program);\r\n\r\n      // look up where the vertex data needs to go.\r\n      var positionAttributeLocation  = this.gl.getAttribLocation(this.program, \"coordinates\");\r\n\r\n      // Create a buffer and put a single clipspace rectangle in\r\n      // it (2 triangles)\r\n      var positionBuffer = this.gl.createBuffer();\r\n      this.gl.bindBuffer(this.gl.ARRAY_BUFFER, positionBuffer);\r\n      this.gl.viewport(0, 0, this.gl.canvas.width, this.gl.canvas.height);\r\n      this.gl.useProgram(this.program);\r\n      this.gl.enableVertexAttribArray(positionAttributeLocation);\r\n\r\n      // Tell the attribute how to get data out of positionBuffer (ARRAY_BUFFER)\r\n      var size = 3;          // 2 components per iteration\r\n      var type = this.gl.FLOAT;   // the data is 32bit floats\r\n      var normalize = false; // don't normalize the data\r\n      var stride = 0;        // 0 = move forward size * sizeof(type) each iteration to get the next position\r\n      var offset1 = 0;        // start at the beginning of the buffer\r\n      this.gl.vertexAttribPointer(positionAttributeLocation, size, type, normalize, stride, offset1);\r\n    },\r\n    createFragmentShader(gl, fragment) {\r\n      const shader = gl.createShader(gl.FRAGMENT_SHADER);\r\n      gl.shaderSource(shader, fragment);\r\n      gl.compileShader(shader);\r\n      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n        console.error(\"An error occurred compiling the shaders: \" + gl.getShaderInfoLog(shader));\r\n        return null;\r\n      }\r\n      return shader;\r\n    },\r\n    createVertexShader(gl, vertex) {\r\n      const shader = gl.createShader(gl.VERTEX_SHADER);\r\n      gl.shaderSource(shader, vertex);\r\n      gl.compileShader(shader);\r\n      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n        console.error(\"An error occurred compiling the shaders: \" + gl.getShaderInfoLog(shader));\r\n        return null;\r\n      }\r\n      return shader;\r\n    },\r\n    handlePressedButton(data) {\r\n      const index = Math.floor(data.center / window.innerWidth * TOTAL_COLS);\r\n      const oldVala = this.drawLine.additionalPoints[index];\r\n      const delta = data.power / 400;\r\n      let newVal;\r\n      if ((oldVala + delta) > 0.25) {\r\n        newVal = 0.25;\r\n      } else {\r\n        newVal = oldVala + delta;\r\n      }\r\n      this.drawLine.additionalPoints[index] = newVal;\r\n      for(let i = 10; i > 0; i--) {\r\n        if ((index + i) < this.drawLine.additionalPoints.length) {\r\n          const oldVal = this.drawLine.additionalPoints[index + i];\r\n          const delta = newVal * Math.tanh((10 - i)/19);\r\n          if ((oldVal + delta) > 0.25) {\r\n            this.drawLine.additionalPoints[index + i] = Math.max(oldVal, 0.25 - 0.05 * i);\r\n          } else {\r\n            this.drawLine.additionalPoints[index + i] = oldVal + delta;\r\n          }\r\n        }\r\n        if ((index - i) >= 0) {\r\n          const oldVal = this.drawLine.additionalPoints[index - i];\r\n          const delta = newVal * Math.tanh((10 - i)/19);\r\n          if ((oldVal + delta) > 0.25) {\r\n            this.drawLine.additionalPoints[index - i] = Math.max(oldVal, 0.25 - 0.05 * i);\r\n          } else {\r\n            this.drawLine.additionalPoints[index - i] = oldVal + delta;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    draw() {\r\n      this.gl.clearColor(255.0, 255.0, 255.0, 1.0);\r\n      let last = null;\r\n      var positions = this.drawLine.additionalPoints\r\n          .map((height, index) => {\r\n            const oldHeight = this.drawLine.additionalPoints[index];\r\n            this.drawLine.additionalPoints[index] = Math.fround(oldHeight * 0.9);\r\n            last = [index / TOTAL_COLS * 2 - 1, - (this.drawLine.baseHeight / this.gl.canvas.height - oldHeight), 0];\r\n            return last;\r\n          })\r\n          .flat();\r\n      this.cachedArrays.push(new Float32Array(positions));\r\n      if (this.cachedArrays.length > 50) {\r\n        this.cachedArrays.shift();\r\n      }\r\n      let matrixLocation = this.gl.getUniformLocation(this.program, \"u_matrix\");\r\n      for (let i = 0; i < this.cachedArrays.length; i++) {\r\n        const matrix = [\r\n            1, 0, 0,\r\n            0, 1, 0,\r\n            0, 1.5 - i / (this.cachedArrays.length / 1.5), 0\r\n        ];\r\n        this.gl.uniformMatrix3fv(matrixLocation, false, matrix);\r\n        this.gl.bufferData(this.gl.ARRAY_BUFFER, this.cachedArrays[i], this.gl.STATIC_DRAW);\r\n        var primitiveType = this.gl.LINE_STRIP;\r\n        var offset2 = 0;\r\n        this.gl.drawArrays(primitiveType, offset2, TOTAL_COLS);\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      ctx: null,\r\n      intervalId: null,\r\n      drawLine: new Array(46),\r\n      cachedArrays: [],\r\n      step: 0,\r\n      gl: null,\r\n      program: null,\r\n    };\r\n  },\r\n  beforeUnmount() {\r\n    clearInterval(this.intervalId);\r\n  },\r\n  mounted() {\r\n    this.$refs.canvas.width = window.innerWidth;\r\n    this.step = Math.floor(window.innerWidth / TOTAL_COLS);\r\n    this.$refs.canvas.height = window.innerHeight;\r\n    EventBus.$on('press:button', this.handlePressedButton.bind(this));\r\n    this.intervalId = setInterval(this.draw.bind(this), 100);\r\n    this.drawLine = {\r\n      baseHeight:  (window.innerHeight - (window.innerWidth / 100 * 26)),\r\n      additionalPoints: (new Array(TOTAL_COLS)).fill(0),\r\n    }\r\n    this.start();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n","export default `\r\nattribute vec2 coordinates;\r\nuniform mat3 u_matrix;\r\n\r\n\r\nvoid main(void) {\r\n  vec2 position = (u_matrix * vec3(coordinates, 1)).xy;\r\n  gl_Position = vec4(position, 0, 1.0);\r\n}\r\n`;\r\n","export default `\r\n// fragment shaders don't have a default precision so we need\r\n// to pick one. mediump is a good default\r\nprecision mediump float;\r\n\r\nvoid main() {\r\n  // gl_FragColor is a special variable a fragment shader\r\n  // is responsible for setting\r\n  gl_FragColor = vec4(1, 0, 0.5, 1); // return reddish-purple\r\n}`;\r\n","import { render } from \"./canvasBackdrop.vue?vue&type=template&id=250d4c6a\"\nimport script from \"./canvasBackdrop.vue?vue&type=script&lang=js\"\nexport * from \"./canvasBackdrop.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\web\\\\mywebsite\\\\PianoMidi\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=271bf90e&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=271bf90e&lang=css\"\nimport \"./App.vue?vue&type=style&index=1&id=271bf90e&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\web\\\\mywebsite\\\\PianoMidi\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-271bf90e\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App, {\n}).mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Piano.vue?vue&type=style&index=0&id=2053170e&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=1&id=271bf90e&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./whiteButton.vue?vue&type=style&index=0&id=035666a2&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=271bf90e&lang=css\""],"sourceRoot":""}